## App configuration
Fill the missing parameters in the CryptoOnRamp.API/appsettings.json and appsettings.Production.json

### Environment variables

Following environment variables should be set in ../docker.env

```bash
# PostgreSQL
CONNECTIONSTRINGS__DEFAULTCONNECTION=

# Authentication
AUTHENTICATIONSETTINGS__PRIVATEKEY=

# Telegram
TELEGRAM__BOTTOKEN=

# Paybis
PAYBIS__PARTNERID=
PAYBIS__HMACKEY=
PAYBIS__APIKEY=

# Onramper
ONRAMPER__APIKEY=
ONRAMPER__SIGNSECRET=
ONRAMPER__WEBHOOKSECRET=

# Transak 
TRANSAK__APIKEY=
TRANSAK__APISECRET=

# https://www.exchangerate-api.com/ FREE API key
EXCHANGERATEAPI__APIKEY=

# SmartContract service
TGRAMPSMART__ENDPOINT=https://bo.coinstech.io/smart
```

### DEV environment variables

Additional variables should be applied only to the DEV environment.

```bash
ASPNETCORE_ENVIRONMENT=Development
```

### PROD environment variables

Additional variables should be applied only to the PROD environment.

```bash
ASPNETCORE_ENVIRONMENT=Production
```

## Webhooks

### Webhook Headers

Signature is a HMAC SHA256 signature of the body.

Signature secret is a secret token generated by `/api/webhooks/generate-token` endpoint.

```
X-COR-Signature: xxxxxx
```

### Webhook Payload

#### On Endpoint Configuration

```json
{
    "action": "Authorization",
    "payload": null
}
```

#### On Transaction

```json
{
    "action": "TransactionCompleted",
    "payload": {
        "TransactionId": "...",
        "FiatCurrency": "...",
        "FiatAmount": 0,
        "CryptoCurrency": "...",
        "CryptoAmount": 0,
        "UserWallet": "...",
        "TxHash": "...",
        "Status": "..."
    }
}
```
